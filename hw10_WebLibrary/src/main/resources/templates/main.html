<!DOCTYPE html>
<!--<html lang="en" xmlns:th="http://www.thymeleaf.org">-->
<head>
    <meta charset="UTF-8"/>
    <title>List of all persons</title>
    <style type="text/css">
        body {
            padding: 50px;
        }

        .books {
            border: 1px solid steelblue;
            width: 300px;
            border-collapse: collapse;
        }

        .persons tr td, th {
            padding: 5px;
            border: 1px solid steelblue;
        }

        .persons td:last-child, td:first-child {
            width: 50px;
        }
    </style>
    <script src="/webjars/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
</head>
<body>
<!--<h3 th:text="#{lang-switcher-header}">Select language</h3>-->
<!--<div>-->
<!--    <div><a href="#" th:href="@{/(lang=en)}" th:text="#{en-lang-switch-button-caption}">Language - EN</a></div>-->
<!--    <div><a href="#" th:href="@{/(lang=ru)}" th:text="#{ru-lang-switch-button-caption}">Language - RU</a></div>-->
<!--</div>-->
<h1>Entity:</h1>

<!--<script>-->
<!--    function outputCharacter(character) {-->
<!--        const dataContainer = document.getElementById("thead")-->
<!--        dataContainer.innerHTML = `-->
<!--        <tr>-->
<!--            <th>ID</th>-->
<!--            <th>Name</th>-->
<!--        </tr>`-->

<!--    }-->
<!--</script>-->

<script>
    function outputCharacter(json) {
        const thead = document.getElementById("thead")
        thead.innerHTML =`
        <tr>
             <th>ID</th>
             <th>Name</th>
        </tr>`
        const tbody = document.getElementById("tbody")
        json.forEach(book => tbody.innerHTML+=`<tr><td>${book.id}</td><td>${book.title}</td></tr>`);
    }
</script>
<script>
    function getDataByJQuery() {
        $.ajax({
            type: 'GET',
            url: '/api/books',
            success: (json) => {
                // Вот здесь пришёл ответ
                outputCharacter(json)
            }
        })
    }
</script>

<button style = "width: 400px" onclick = "getDataByJQuery()">Получить данные о Морти Смит с помощью JQuery</button><br/><br/>
<table>
    <thead id="thead">
    </thead>
    <tbody id="tbody"></tbody>
</table>


</body>
</html>
